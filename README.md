# Домашнее задание к занятию 10.3 «Pacemaker» - Рыженко Назарий

---

### Задание 1

Опишите основные функции и назначение Pacemaker.

Pacemaker — менеджер ресурсов кластера. Он позволяет использовать `службы и объекты` в рамках одного кластера из двух или более нод.

* позволяет находить и устранять сбои на уровне нод и служб;
* не зависит от подсистемы хранения: можем забыть общий накопитель, как страшный сон;
* не зависит от типов ресурсов: все, что можно прописать в скрипты, можно кластеризовать;
* поддерживает STONITH (Shoot-The-Other-Node-In-The-Head), то есть умершая нода изолируется и запросы к ней не поступают, пока нода не отправит сообщение о том, что она снова в рабочем состоянии;
* поддерживает кворумные и ресурсозависимые кластеры любого размера;
* поддерживает практически любую избыточную конфигурацию;
* может автоматически реплицировать конфиг на все узлы кластера — не придется править все вручную;
* можно задать порядок запуска ресурсов, а также их совместимость на одном узле;
* поддерживает расширенные типы ресурсов: клоны (когда ресурс запущен на множестве узлов) и дополнительные состояния (master/slave и подобное) — актуально для СУБД (MySQL, MariaDB, PostgreSQL, Oracle);
* имеет единую кластерную оболочку CRM с поддержкой скриптов.
*Приведите ответ в свободной форме.*

---

### Задание 2

Опишите основные функции и назначение Corosync.

Corosync — программный продукт, который позволяет создавать единый кластер из нескольких `аппаратных или виртуальных серверов`. Corosync отслеживает и передает состояние всех участников (нод) в кластере.

* мониторить статус приложений;
* оповещать приложения о смене активной ноды в кластере;
* отправлять идентичные сообщения процессам на всех нодах;
* предоставлять доступ к общей базе данных с конфигурацией и статистикой;
* отправлять уведомления об изменениях, произведенных в базе.

---

### Задание 3

Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.

Необходимо, чтобы на всех нодах было одинаковое время.
![image](https://user-images.githubusercontent.com/106932460/218745295-a089fc83-03f4-43e9-9a47-1f7e3d7adad3.png)

![image](https://user-images.githubusercontent.com/106932460/218766575-ed6970c0-3c59-4bb3-b88b-faa175483e18.png)

![image](https://user-images.githubusercontent.com/106932460/218767205-b87e5170-6e34-4b23-a49d-d19c715e2933.png)

![image](https://user-images.githubusercontent.com/106932460/218767352-af691533-cd52-4775-9dc0-aa8fd08c97b1.png)

---

### Задания со звёздочкой*
Эти задания дополнительные. Выполнять их не обязательно. Это не повлияет на зачёт. Вы можете их выполнить, если хотите глубже разобраться в материале.
 
---

### Задание 4

Установите и настройте DRBD-сервис для настроенного кластера.

*Пришлите скриншот рабочей конфигурации и состояние сервиса для каждого нода.*


